<!DOCTYPE html>
<html lang="en">
<head>
    </head>
<body>
    <audio id="backgroundMusic" loop>
        <source src="Taylor Swift - Lover (Official Music Video).mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const fireworksScript = document.querySelector('script[src*="fireworks-js"]');
            if (fireworksScript) {
                fireworksScript.onload = () => {  // CRUCIAL: Everything inside onload!
                    const container = document.querySelector('.fireworks');
                    const fireworks = new Fireworks(container, { /* ... fireworks options ... */ });
                    fireworks.start();

                    const images = [ /* ... your image paths ... */ ];
                    const slideshow = document.querySelector('.slideshow');
                    images.forEach(src => {
                        const img = new Image();
                        img.src = src;
                        img.onload = () => {
                            const slideshowImg = document.createElement('img');
                            slideshowImg.src = src;
                            if (slideshow.children.length === 0) slideshowImg.classList.add('active');
                            slideshow.appendChild(slideshowImg);
                        }
                    });

                    let currentIndex = 0;
                    setInterval(() => {
                        const imgs = document.querySelectorAll('.slideshow img');
                        if (imgs.length > 0) {
                            imgs[currentIndex].classList.remove('active');
                            currentIndex = (currentIndex + 1) % imgs.length;
                            imgs[currentIndex].classList.add('active');
                        }
                    }, 5000);

                     // Background music (moved inside onload)
                    const music = document.getElementById('backgroundMusic');
                    music.play();
                }; // End of fireworksScript.onload
            } else {
                console.error("Fireworks script not found!");
            }
        });
    </script>
</body>
</html>
